"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tedious_1 = require("tedious");
const sqlToJsonUtils_1 = require("../../utils/sqlToJsonUtils");
const execSqlAsync = (connection) => (sqlString, options) => new Promise((resolve, reject) => {
    const request = new tedious_1.Request(sqlString, (error, rowCount, rows) => {
        if (error) {
            reject(error);
        }
        resolve(sqlToJsonUtils_1.mapSQLRows(rows, options));
    });
    connection.execSql(request);
});
exports.default = execSqlAsync;
//# sourceMappingURL=execSqlAsync.js.map